{
  "accentColor": "{{appsmith.theme.colors.primaryColor}}",
  "allowScroll": false,
  "animateLoading": true,
  "borderRadius": "1.5rem",
  "bottomRow": 32,
  "boxShadow": "{{appsmith.theme.boxShadow.appBoxShadow}}",
  "chartData": {
    "mzl5xmbhvx": {
      "color": "#831843",
      "data": "{{ \ngetPedidosPorCobrar.data\n  // 1. Ordenamos igual que antes (de mayor a menor)\n  .sort((b, a) => parseInt(b.order_count) - parseInt(a.order_count))\n  // 2. Mapeamos y RECORTAMOS el nombre\n  .map(row => ({\n    // Si el nombre tiene mas de 15 letras, lo cortamos y ponemos \"...\"\n    x: row.customer_name.length > 15 ? row.customer_name.substring(0, 15) + '...' : row.customer_name,      \n    y: parseInt(row.order_count) \n})) \n}}",
      "seriesName": ""
    }
  },
  "chartName": "{{ \"Por cobrar (\" + getPedidosPorCobrar.data.reduce((acc, row) => acc + parseInt(row.order_count), 0) + \")\" }}",
  "chartType": "CUSTOM_ECHART",
  "customEChartConfig": "{{ ((chartType) => ( \n{\n\t\"title\": {\n    \"text\": \"Por cobrar (\" + getPedidosPorCobrar.data.reduce((acc, row) => acc + parseInt(row.order_count), 0) + \")\",\n    \"left\": \"center\",\n    \"top\": \"3%\", \n    \"textStyle\": { \n        \"fontSize\": 18,        // Un poco menos que 20 para que no se vea tosco\n        \"fontWeight\": \"bold\", \n        \"color\": \"#000000\"     // Negro puro como los otros\n    }\n  },\n  // Ajustamos el grid para que el título no tape la gráfica\n  \"grid\": {\n    \"containLabel\": true,\n    \"top\": \"15%\", // Bajamos la gráfica para dejar espacio al título\n    \"left\": \"2%\", \n    \"right\": \"5%\",\n    \"bottom\": \"5%\"\n  },\n  \"dataset\": {\n    \"source\": getPedidosPorCobrar.data\n        .sort((b, a) => parseInt(b.order_count) - parseInt(a.order_count))\n        .map(row => ({\n            \"x\": row.customer_name,           \n            \"y\": parseInt(row.order_count)\n        }))\n  },\n  \"xAxis\": { \n      \"type\": \"value\", \n      \"name\": \"Pedidos\",\n      \"splitLine\": { \"show\": false }\n  },\n  \"yAxis\": { \n    \"type\": \"category\",\n    \"axisLabel\": { \n        \"width\": 90,           \n        \"overflow\": \"truncate\", \n        \"interval\": 0\n    } \n  },\n  \"series\": [\n    {\n      \"type\": \"bar\",\n      \"encode\": { \"x\": \"y\", \"y\": \"x\" }, \n      \"itemStyle\": { \"color\": \"#942533\" }, \n      \"label\": {\n          \"show\": true,\n          \"position\": \"right\"\n      }\n    }\n  ]\n}\n))(chartPorCobrar.chartType) }}",
  "customFusionChartConfig": {
    "dataSource": {
      "chart": {
        "alignCaptionWithCanvas": 1,
        "canvasPadding": "0",
        "caption": "Sales Report",
        "captionAlignment": "center",
        "captionFontColor": "#231F20",
        "captionFontSize": "24",
        "captionPadding": "20",
        "chartBottomMargin": "10",
        "chartLeftMargin": "20",
        "chartRightMargin": "40",
        "chartTopMargin": "10",
        "labelFontColor": "#716e6e",
        "labelFontSize": "12",
        "legendIconAlpha": "100",
        "legendIconBgAlpha": "100",
        "legendIconSides": "4",
        "legendPosition": "top",
        "theme": "fusion",
        "xAxisName": "Product Line",
        "xAxisNameFontColor": "#716e6e",
        "xAxisNameFontSize": "14",
        "yAxisName": "Revenue($)",
        "yAxisNameFontColor": "#716e6e",
        "yAxisNameFontSize": "14",
        "yAxisValueFontColor": "#716e6e",
        "yAxisValueFontSize": "12"
      },
      "data": [
        {
          "label": "Product1",
          "value": 20000
        },
        {
          "label": "Product2",
          "value": 22000
        },
        {
          "label": "Product3",
          "value": 32000
        }
      ]
    },
    "type": "column2d"
  },
  "dynamicBindingPathList": [
    {
      "key": "boxShadow"
    },
    {
      "key": "accentColor"
    },
    {
      "key": "fontFamily"
    },
    {
      "key": "chartData.mzl5xmbhvx.data"
    },
    {
      "key": "chartName"
    },
    {
      "key": "customEChartConfig"
    }
  ],
  "dynamicPropertyPathList": [
    {
      "key": "onDataPointClick"
    }
  ],
  "dynamicTriggerPathList": [
    {
      "key": "onDataPointClick"
    }
  ],
  "flexVerticalAlignment": "start",
  "fontFamily": "{{appsmith.theme.fontFamily.appFont}}",
  "isLoading": false,
  "isVisible": true,
  "key": "icjtvmyk80",
  "labelOrientation": "auto",
  "leftColumn": 48,
  "minWidth": 450,
  "mobileBottomRow": 31,
  "mobileLeftColumn": 0,
  "mobileRightColumn": 12,
  "mobileTopRow": 0,
  "needsErrorInfo": true,
  "onDataPointClick": "{{ (async () => {\n    await resetWidget(\"chartAtrasados\", true); await resetWidget(\"chartEnTiempo\", true); await resetWidget(\"Chart3\", true);\n    await resetWidget(\"selEstado\", true); await resetWidget(\"selCliente_filtro\", true); await resetWidget(\"selAsignadoA_filtro\", true);\n    \n    // Esto disparará la query que usa el nuevo getWhereClause\n    await getPedidosColaborador.run();\n})(); }}",
  "parentColumnSpace": 23.390625,
  "parentId": "0",
  "parentRowSpace": 10,
  "renderMode": "CANVAS",
  "responsiveBehavior": "fill",
  "rightColumn": 64,
  "setAdaptiveYMin": false,
  "showDataPointLabel": true,
  "topRow": 0,
  "type": "CHART_WIDGET",
  "version": 1,
  "widgetId": "yka7qyc1mz",
  "widgetName": "chartPorCobrar",
  "xAxisName": "",
  "yAxisName": "Cliente"
}